from bs4 import BeautifulSoup
import requests, socket, netaddr

IP = "ip_do_host"

data = {"qr": IP, "captcha-selected":0}

resposta = request.post("https://registro.br/2/whois", data=data)
bs = BeautifulSoup(resposta.text, "lxml")

bloco_CIDR = bs.find("div", id="whois-output-new").h.text.split()[1]
ips = netaddr.IPNetwork(bloco_CIDR)

for ip in ips:
	try: print socket.gethostbyaddr(str(ip))
except:
	pass